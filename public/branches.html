<script>
  async function fetchBranches() {
    const res = await fetch('/pip/branches');
    const data = await res.json();
    document.getElementById('branch-list').innerHTML = data.map(branch => 
      `<li>
        ID: ${branch.id}, Name: ${branch.name}, Location: ${branch.location}
        <button onclick="deleteBranch(${branch.id})">Delete</button>
      </li>`
    ).join('');
  }

  async function createBranch() {
    const name = document.getElementById('name').value;
    const location = document.getElementById('location').value;
    await fetch('/pip/branches', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ name, location })
    });
    fetchBranches();
  }

  async function deleteBranch(id) {
    await fetch(`/pip/branches/${id}`, { method: 'DELETE' });
    fetchBranches();
  }

  window.onload = fetchBranches;
</script>
